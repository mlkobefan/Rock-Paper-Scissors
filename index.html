<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function game() {
            let cumPlayerScore = 0;
            let cumComputerScore = 0;
            for (let i = 0; i<5; i++) {
                let choiceArray = ["rock","paper","scissors"];
                //
                function getComputerChoice() {
                    return choiceArray[Math.floor(Math.random()*3)];
                }
                //
                function getPlayerChoice() {
                    let playerInput = prompt("Rock, Paper, or Scissors?","").toLowerCase();
                    if (choiceArray.includes(playerInput)) {
                        return playerInput;
                    } else {
                        alert("Invalid option. Please try again.");
                        return getPlayerChoice();
                    }  
                }
                //
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                let roundResult;
                let playerScore;
                let computerScore;
                function playRound(playerSelection,computerSelection) {
                    if (playerSelection === computerSelection) {
                        roundResult = "It\'s a Tie!";
                        playerScore = 0;
                        computerScore = 0;
                    } else if (playerSelection === "rock" && computerSelection === "scissors" || playerSelection === "paper" && computerSelection === "rock" || playerSelection === "scissors" && computerSelection === "paper") {
                        roundResult = "You Win! " + playerSelection + " beats " + computerSelection + ".";
                        playerScore = 1;
                        computerScore = 0;
                    } else {
                        roundResult = "You Lose! " + computerSelection + " beats " + playerSelection + ".";
                        playerScore = 0;
                        computerScore = 1;
                    }
                    return roundResult;
                }
                //
                console.log(playRound(playerSelection,computerSelection));
                cumPlayerScore += playerScore;
                cumComputerScore += computerScore;  
                let scoreMessage = "Human: " + cumPlayerScore + ", Computer: " + cumComputerScore;             
                console.log(scoreMessage);
            }
            let finalResult
            if (cumPlayerScore === cumComputerScore) {
                finalResult = "After 5 rounds, it\'s a tie!";
            } else if (cumPlayerScore > cumComputerScore) {
                finalResult = "After 5 rounds, you have won!";
            } else {
                finalResult = "After 5 rounds, you have lost!"
            }
            console.log(finalResult);
        }
        console.log(game());
    </script>
</body>
</html>